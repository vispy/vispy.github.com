
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>FAQ &#8212; VisPy</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/style.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'faq';</script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Roadmap" href="roadmap.html" />
    <link rel="prev" title="Resources" href="resources.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="index.html">

  
  
  
  
  
  
  

  
    <img src="_static/vispy-teaser-short.png" class="logo__image only-light" alt="Logo image">
    <img src="_static/vispy-teaser-short.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="installation.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="getting_started/index.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="overview.html">
                        Documentation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="gallery/index.html">
                        Gallery
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="api/modules.html">
                        API
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="news.html">
                        News
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-external" href="https://github.com/vispy/vispy/blob/main/CODE_OF_CONDUCT.md">
                        Code of Conduct
                      </a>
                    </li>
                
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/vispy/vispy" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://twitter.com/vispyproject" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="installation.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="getting_started/index.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="overview.html">
                        Documentation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="gallery/index.html">
                        Gallery
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="api/modules.html">
                        API
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="news.html">
                        News
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-external" href="https://github.com/vispy/vispy/blob/main/CODE_OF_CONDUCT.md">
                        Code of Conduct
                      </a>
                    </li>
                
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/vispy/vispy" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://twitter.com/vispyproject" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Section navigation">
  <p class="bd-links__title" role="heading" aria-level="1">
    Section Navigation
  </p>
  <div class="bd-toc-item navbar-nav">
    <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="community.html">Community</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="org/ANTITRUST.html">Antitrust Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="org/CHARTER.html">Charter for the VisPy Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="org/STEERING-COMMITTEE.html">Steering Committee</a></li>
<li class="toctree-l2"><a class="reference internal" href="org/TRADEMARKS.html">Trademarks</a></li>
<li class="toctree-l2"><a class="reference internal" href="governance/GOVERNANCE.html">Governance Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="governance/MAINTAINERS.html">Maintainers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="dev_guide/index.html">Developer’s Guide</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="dev_guide/contributor_guide.html">Contributor’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="dev_guide/writing_examples.html">Writing Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="thirdparty.html">Third Party Projects</a></li>
</ul>

  </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="faq">
<h1>FAQ<a class="headerlink" href="#faq" title="Permalink to this heading">#</a></h1>
<p>VisPy is a big project with a lot of features and sometimes a couple ways to
do things. It sits on top of the very complex OpenGL library. We’ve tried to
document what we could in an organized and easy to find manner, but some
topics don’t quite fit. This set of Frequently Asked Questions is where you’ll
find the answer to some of these miscellaneous questions.</p>
<section id="why-is-my-visualization-slower-when-i-add-more-visual-objects">
<h2>Why is my visualization slower when I add more Visual objects?<a class="headerlink" href="#why-is-my-visualization-slower-when-i-add-more-visual-objects" title="Permalink to this heading">#</a></h2>
<p>Each Visual object in VisPy is an OpenGL Program consisting of at least a
vertex shader and a fragment shader (see <a class="reference internal" href="getting_started/modern-gl.html"><span class="doc">Modern OpenGL</span></a>).
In general, except for some very specific cases, OpenGL Programs can only
be executed one at a time by a single OpenGL context. This means that in
your VisPy visualization each Visual object you tell VisPy to draw will
extend how long each update (draw) takes. When frames per second (FPS) or
responsiveness are a concern, this means each Visual you add reduces the
performance of your visualization.</p>
<p>While VisPy is constantly striving to improve performance, there are things
that you can do in the mean time (depending on your particular case). The
most important change that you can make is to lower the number of Visual
objects you have. For a lot of Visuals it is possible to combine them into
one by putting a little extra work into the data you provide them. For example,
instead of creating 10 separate LineVisuals, create 1 LineVisual that draws
10 lines. While this is a simple example, the same concept applies to other
types of Visuals in VisPy and more complex use cases. As a last resort for
the most complex cases, a custom Visual (custom shader code) may be necessary.
Before writing a custom Visual, check with VisPy maintainers by asking a
question on gitter or creating a question as a GitHub issue.</p>
</section>
<section id="is-vispy-multi-threaded-or-thread-safe">
<h2>Is VisPy multi-threaded or thread-safe?<a class="headerlink" href="#is-vispy-multi-threaded-or-thread-safe" title="Permalink to this heading">#</a></h2>
<p>VisPy does not have any special multi-thread or multi-process handling except
for the funcionality provided by the GUI framework backends that it uses. For
example, PyQt5/PySide2 provide QThread objects for running code in another
thread. These libraries also provide ways of transferring data safely or
communicating between threads; mainly signals and slots. However, there is a
limit to what operations can be performed outside the main thread.</p>
<p>The main or GUI thread for most GUI frameworks is the <strong>only</strong> thread that can
perform drawing operations or operations that will trigger drawing. This
includes OpenGL functions. This means
that calling <code class="docutils literal notranslate"><span class="pre">self.update()</span></code> on a VisPy <code class="docutils literal notranslate"><span class="pre">Canvas</span></code> or <code class="docutils literal notranslate"><span class="pre">Visual</span></code> object must
ultimately be done in the main thread. Data that will be drawn can be created
or updated in a secondary thread, but the main/GUI thread must still be the
one to do the redraw. Since many Visual objects automatically call
<code class="docutils literal notranslate"><span class="pre">self.update()</span></code> for property or data modifications this can be difficult to
do in the most performant way. Updates or requests for changes to better support
thread-safe data updates are welcome.</p>
</section>
<section id="how-to-render-headless-off-screen-with-vispy">
<h2>How to render headless/off-screen with VisPy?<a class="headerlink" href="#how-to-render-headless-off-screen-with-vispy" title="Permalink to this heading">#</a></h2>
<p>There are two strategies to render without windows with VisPy:</p>
<ol class="arabic simple">
<li><p>Use Xvfb that simulates an X server in memory without displaying windows.
This can be used with any VisPy backend.</p></li>
<li><p>Use a backend that directly renders into memory buffers, e.g. OSMesa or EGL
(<a class="reference external" href="https://stackoverflow.com/a/55758789">further info</a>).</p></li>
</ol>
<p>Then, in your VisPy script, use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">image</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="kn">import</span> <span class="nn">imageio</span>
<span class="n">imageio</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="s2">&quot;rendered.png&quot;</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span>
</pre></div>
</div>
<p>to save the rendered scene to an image file.</p>
<section id="xvfb">
<h3>Xvfb<a class="headerlink" href="#xvfb" title="Permalink to this heading">#</a></h3>
<p>Wrap the command to launch your script with <code class="docutils literal notranslate"><span class="pre">xfvb-run</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xvfb</span><span class="o">-</span><span class="n">run</span> <span class="o">-</span><span class="n">a</span> <span class="n">python</span> <span class="n">my_script</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p><a class="reference external" href="https://www.x.org/releases/X11R7.6/doc/man/man1/Xvfb.1.xhtml">https://www.x.org/releases/X11R7.6/doc/man/man1/Xvfb.1.xhtml</a></p>
</section>
<section id="osmesa">
<h3>OSMesa<a class="headerlink" href="#osmesa" title="Permalink to this heading">#</a></h3>
<p>Using the OSMesa (Off-Screen Mesa) backend:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">vispy</span>
<span class="n">vispy</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s2">&quot;osmesa&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>VisPy tries to detect the OSMesa shared library, but, if needed, it can be set
explicitly with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">OSMESA_LIBRARY</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libOSMesa</span><span class="o">.</span><span class="n">so</span>
</pre></div>
</div>
<p><a class="reference external" href="https://mesa-docs.readthedocs.io/en/latest/osmesa.html">https://mesa-docs.readthedocs.io/en/latest/osmesa.html</a></p>
</section>
<section id="egl">
<h3>EGL<a class="headerlink" href="#egl" title="Permalink to this heading">#</a></h3>
<p>Using the EGL backend:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">vispy</span>
<span class="n">vispy</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s2">&quot;egl&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>VisPy tries to detect the EGL shared library, but, if needed, it can be set
explicitly with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Choose one, or adapt to your system.</span>
<span class="n">export</span> <span class="n">EGL_LIBRARY</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libEGL</span><span class="o">.</span><span class="n">so</span>
<span class="n">export</span> <span class="n">EGL_LIBRARY</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libEGL_mesa</span><span class="o">.</span><span class="n">so</span>
<span class="n">export</span> <span class="n">EGL_LIBRARY</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libEGL_nvidia</span><span class="o">.</span><span class="n">so</span>
</pre></div>
</div>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/EGL_(API">https://en.wikipedia.org/wiki/EGL_(API</a>)</p>
</section>
</section>
<section id="how-to-achieve-transparency-with-2d-objects">
<h2>How to achieve transparency with 2D objects?<a class="headerlink" href="#how-to-achieve-transparency-with-2d-objects" title="Permalink to this heading">#</a></h2>
<p>With objects that lie in a 2D plane, e.g. images, it is possible to get a
translucent effect (i.e. partial transparency, a see-through effect) by
positioning them at different depth levels in the viewing direction and by
drawing the visuals from furthest to closest with the appropriate blending
mode.</p>
<p>Here are the key steps to achieve this with two
<a class="reference internal" href="api/vispy.scene.visuals.html#vispy.scene.visuals.Image" title="vispy.scene.visuals.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> visual nodes in a
<a class="reference internal" href="api/vispy.scene.canvas.html#vispy.scene.canvas.SceneCanvas" title="vispy.scene.canvas.SceneCanvas"><code class="xref py py-class docutils literal notranslate"><span class="pre">SceneCanvas</span></code></a>:</p>
<ol class="arabic">
<li><p>Set the opacity value in the alpha channel of the images:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># A white image with integer values between 0 and 255.</span>
<span class="n">image_data1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;uint8&#39;</span><span class="p">)</span>
<span class="c1"># Half translucent.</span>
<span class="n">image_data1</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">128</span>

<span class="c1"># A blue image with float values between 0 and 1.</span>
<span class="n">image_data2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;np.float32&#39;</span><span class="p">)</span>
<span class="n">image_data2</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>  <span class="o">=</span> <span class="mf">1.0</span>  <span class="c1"># Blue.</span>
<span class="c1"># A bit more translucent.</span>
<span class="n">image_data2</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.25</span>

<span class="n">visual1</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">image_data1</span><span class="p">)</span>
<span class="n">visual2</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">image_data2</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Position the visuals at different depth levels (z-levels) in the viewing
direction:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">vispy.visuals</span> <span class="kn">import</span> <span class="n">transforms</span>
<span class="n">visual1</span><span class="o">.</span><span class="n">transform</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">STTransform</span><span class="p">(</span><span class="n">translate</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">visual2</span><span class="o">.</span><span class="n">transform</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">STTransform</span><span class="p">(</span><span class="n">translate</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<p>A higher <code class="docutils literal notranslate"><span class="pre">z</span></code> value means further back, assuming the viewing direction is
the <code class="docutils literal notranslate"><span class="pre">+z</span></code> axis, e.g. the default for a
<a class="reference internal" href="api/vispy.scene.cameras.html#vispy.scene.cameras.PanZoomCamera" title="vispy.scene.cameras.PanZoomCamera"><code class="xref py py-class docutils literal notranslate"><span class="pre">PanZoomCamera</span></code></a>.</p>
</li>
<li><p>Draw the visuals from back to front by setting the draw
<a class="reference internal" href="api/vispy.scene.node.html#vispy.scene.node.Node.order" title="vispy.scene.node.Node.order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">order</span></code></a> of the nodes manually:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">visual2</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># Furthest, drawn first.</span>
<span class="n">visual1</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># Closest, drawn second.</span>
</pre></div>
</div>
</li>
</ol>
<p>This requires depth testing and blending enabled. An appropriate blending
function is, for example, <code class="docutils literal notranslate"><span class="pre">(GL_SRC_ALPHA,</span> <span class="pre">GL_ONE_MINUS_SRC_ALPHA)</span></code>
with <a class="reference external" href="https://docs.gl/es2/glBlendFunc">glBlendFunc</a> in OpenGL.
This is the default on the <a class="reference internal" href="api/vispy.scene.visuals.html#vispy.scene.visuals.Image" title="vispy.scene.visuals.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> visual node, but
otherwise it can be set with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">visual1</span><span class="o">.</span><span class="n">set_gl_state</span><span class="p">(</span><span class="s1">&#39;translucent&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>which is a shortcut for</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">visual1</span><span class="o">.</span><span class="n">set_gl_state</span><span class="p">(</span><span class="n">depth_test</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cull_face</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">blend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                     <span class="n">blend_func</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;src_alpha&#39;</span><span class="p">,</span> <span class="s1">&#39;one_minus_src_alpha&#39;</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="how-do-i-cite-vispy">
<h2>How do I cite VisPy?<a class="headerlink" href="#how-do-i-cite-vispy" title="Permalink to this heading">#</a></h2>
<p>See the VisPy repository for citation information:
<a class="github reference external" href="https://github.com/vispy/vispy/blob/main/CITATION.rst">vispy/vispy</a></p>
</section>
</section>


            </article>
            
            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="resources.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Resources</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="roadmap.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Roadmap</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#why-is-my-visualization-slower-when-i-add-more-visual-objects">
   Why is my visualization slower when I add more Visual objects?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#is-vispy-multi-threaded-or-thread-safe">
   Is VisPy multi-threaded or thread-safe?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-render-headless-off-screen-with-vispy">
   How to render headless/off-screen with VisPy?
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#xvfb">
     Xvfb
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#osmesa">
     OSMesa
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#egl">
     EGL
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-achieve-transparency-with-2d-objects">
   How to achieve transparency with 2D objects?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-do-i-cite-vispy">
   How do I cite VisPy?
  </a>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<div id="searchbox"></div>
</div>

<div class="toc-item">
  

<div class="tocsection editthispage">
    <a href="https://github.com/vispy/vispy/edit/main/doc/faq.rst">
        <i class="fa-solid fa-pencil"></i> Edit this page
    </a>
</div>

</div>

<div class="toc-item">
  
<div class="tocsection sourcelink">
    <a href="_sources/faq.rst.txt">
        <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
</div>

</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2013-2023, VisPy developers.<br>

</p>

  </div>
  
  <div class="footer-item">
    <p class="theme-version">
    Built with the
    <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">
        PyData Sphinx Theme
    </a>
    0.12.0.
</p>
  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>

  </div>
  
</div>
  </footer>
  </body>
</html>