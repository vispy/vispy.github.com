
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Getting Started - gloo &#8212; VisPy</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css?v=7002c910" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=a269ae0a"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'getting_started/gloo';</script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Getting Started - Visuals" href="visuals.html" />
    <link rel="prev" title="Modern OpenGL" href="modern-gl.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.15" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/vispy-teaser-short.png" class="logo__image only-light" alt="VisPy - Home"/>
    <img src="../_static/vispy-teaser-short.png" class="logo__image only-dark pst-js-only" alt="VisPy - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../installation.html">
    Installation
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../overview.html">
    Documentation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../gallery/index.html">
    Gallery
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/modules.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../news.html">
    News
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/vispy/vispy/blob/main/CODE_OF_CONDUCT.md">
    Code of Conduct
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/vispy/vispy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/vispyproject" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../installation.html">
    Installation
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../overview.html">
    Documentation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../gallery/index.html">
    Gallery
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/modules.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../news.html">
    News
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/vispy/vispy/blob/main/CODE_OF_CONDUCT.md">
    Code of Conduct
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/vispy/vispy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/vispyproject" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="modern-gl.html">Modern OpenGL</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Gloo</a></li>
<li class="toctree-l1"><a class="reference internal" href="visuals.html">Visuals</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="scene.html">Scene</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot.html">Plotting</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Getting Started</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Getting Started - gloo</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="getting-started-gloo">
<h1>Getting Started - gloo<a class="headerlink" href="#getting-started-gloo" title="Link to this heading">#</a></h1>
<p>The gloo layer of VisPy is the lowest level interface and is the closest thing
to OpenGL that VisPy provides. This also means it is the most complicated.
While OpenGL is complicated, gloo tries to provide a simple to use
object-oriented layer on top of that. The guide below will walk through the
basics of using VisPy’s gloo interface to create a visualization.</p>
<section id="getting-system-information">
<h2>Getting System Information<a class="headerlink" href="#getting-system-information" title="Link to this heading">#</a></h2>
<p>A good quick way of checking if VisPy is properly installed is to print out
system information. This output includes information like what backends you
have installed as well as information that can be gathered from OpenGL about
your GPU. This can be very important information to provide to VisPy
maintainers when filing bugs or asking questions. To get this information,
you can run the following python code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">vispy</span>
<span class="nb">print</span><span class="p">(</span><span class="n">vispy</span><span class="o">.</span><span class="n">sys_info</span><span class="p">())</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This can be done in a one-liner from the command line with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;import vispy; print(vispy.sys_info())&quot;</span>
</pre></div>
</div>
</div>
<p>The output of this should look something like the below, but will ultimately
depend on your environment and your machine.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Platform</span><span class="p">:</span> <span class="n">Linux</span><span class="o">-</span><span class="mf">5.4.0</span><span class="o">-</span><span class="mi">7642</span><span class="o">-</span><span class="n">generic</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">debian</span><span class="o">-</span><span class="n">bullseye</span><span class="o">-</span><span class="n">sid</span>
<span class="n">Python</span><span class="p">:</span>   <span class="mf">3.7.6</span> <span class="o">|</span> <span class="n">packaged</span> <span class="n">by</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="o">|</span> <span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">Mar</span> <span class="mi">23</span> <span class="mi">2020</span><span class="p">,</span> <span class="mi">23</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">20</span><span class="p">)</span>  <span class="p">[</span><span class="n">GCC</span> <span class="mf">7.3.0</span><span class="p">]</span>
<span class="n">NumPy</span><span class="p">:</span>    <span class="mf">1.18.1</span>
<span class="n">Backend</span><span class="p">:</span>  <span class="n">PyQt5</span>
<span class="n">pyqt4</span><span class="p">:</span>    <span class="kc">None</span>
<span class="n">pyqt5</span><span class="p">:</span>    <span class="p">(</span><span class="s1">&#39;PyQt5&#39;</span><span class="p">,</span> <span class="s1">&#39;5.12.3&#39;</span><span class="p">,</span> <span class="s1">&#39;5.12.5&#39;</span><span class="p">)</span>
<span class="n">pyside</span><span class="p">:</span>   <span class="kc">None</span>
<span class="n">pyside2</span><span class="p">:</span>  <span class="kc">None</span>
<span class="n">pyglet</span><span class="p">:</span>   <span class="kc">None</span>
<span class="n">glfw</span><span class="p">:</span>     <span class="kc">None</span>
<span class="n">sdl2</span><span class="p">:</span>     <span class="kc">None</span>
<span class="n">wx</span><span class="p">:</span>       <span class="kc">None</span>
<span class="n">egl</span><span class="p">:</span>      <span class="n">EGL</span> <span class="mf">1.5</span> <span class="n">NVIDIA</span><span class="p">:</span> <span class="n">OpenGL_ES</span> <span class="n">OpenGL</span>
<span class="n">osmesa</span><span class="p">:</span>   <span class="kc">None</span>
<span class="n">_test</span><span class="p">:</span>    <span class="kc">None</span>

<span class="n">GL</span> <span class="n">version</span><span class="p">:</span>  <span class="s1">&#39;4.6.0 NVIDIA 455.28&#39;</span>
<span class="n">MAX_TEXTURE_SIZE</span><span class="p">:</span> <span class="mi">32768</span>
<span class="n">Extensions</span><span class="p">:</span> <span class="s1">&#39;GL_AMD_multi_draw_indirect ...&#39;</span>
</pre></div>
</div>
<p>One important thing to look for is the “GL version”. If you see an empty string
here or got an error when running this command, this likely means your system’s
OpenGL library is not properly installed or can’t be found by VisPy. You may
need to upgrade or re-install your GPU drivers to fix this or OpenGL may not
be compatible with your system.</p>
</section>
<section id="the-canvas-and-the-application">
<h2>The Canvas and The Application<a class="headerlink" href="#the-canvas-and-the-application" title="Link to this heading">#</a></h2>
<p>There are two things that are common across all of the VisPy interfaces in one
way or another:</p>
<ol class="arabic simple">
<li><p>One <code class="docutils literal notranslate"><span class="pre">Application</span></code> instance</p></li>
<li><p>At least one <code class="docutils literal notranslate"><span class="pre">Canvas</span></code> (or subclass) instance</p></li>
</ol>
<section id="the-application">
<h3>The Application<a class="headerlink" href="#the-application" title="Link to this heading">#</a></h3>
<p>The VisPy <code class="docutils literal notranslate"><span class="pre">Application</span></code> object wraps the high-level event loop logic of
the VisPy backend you use (PyQt5, Wx, etc). In most cases you don’t have
to know too much about this, but you do need to create and run the
application which we’ll see below. If the application is not started, VisPy
will not be able to process events and won’t run properly. Note that just like
with any GUI framework, calling the <code class="docutils literal notranslate"><span class="pre">.run()</span></code> method of the application is
a blocking call. Nothing after the <code class="docutils literal notranslate"><span class="pre">.run()</span></code> call will be executed until the
application is stopped, usually by closing your GUI window.</p>
</section>
<section id="the-canvas">
<h3>The Canvas<a class="headerlink" href="#the-canvas" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Canvas</span></code> object will be your main way of using and controlling VisPy.
Depending on the VisPy interface you’re using, you’ll either be using the
<code class="docutils literal notranslate"><span class="pre">Canvas</span></code>, <code class="docutils literal notranslate"><span class="pre">SceneCanvas</span></code>, or creating <code class="docutils literal notranslate"><span class="pre">Figure</span></code> objects. While these
different types of canvases are built on each other, they will almost never
be used in the same application. To help keep your code easy to understand
it is best not to mix these classes or their subcomponents.</p>
</section>
</section>
<section id="basic-script">
<h2>Basic Script<a class="headerlink" href="#basic-script" title="Link to this heading">#</a></h2>
<p>To start any gloo visualization we will need to create a <code class="docutils literal notranslate"><span class="pre">Canvas</span></code> object and
an <code class="docutils literal notranslate"><span class="pre">Application</span></code>. Here is the most basic working example we can create:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">vispy</span><span class="w"> </span><span class="kn">import</span> <span class="n">app</span><span class="p">,</span> <span class="n">gloo</span>

<span class="n">canvas</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">Canvas</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="s1">&#39;interactive&#39;</span><span class="p">)</span>


<span class="nd">@canvas</span><span class="o">.</span><span class="n">connect</span>
<span class="k">def</span><span class="w"> </span><span class="nf">on_draw</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="n">gloo</span><span class="o">.</span><span class="n">set_clear_color</span><span class="p">((</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
    <span class="n">gloo</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>


<span class="n">canvas</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span> <span class="ow">and</span> <span class="n">sys</span><span class="o">.</span><span class="n">flags</span><span class="o">.</span><span class="n">interactive</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>If you run the above code you should see a single window with a solid
blue-ish background.</p>
<p>Let’s go through this code one chunk at a time:</p>
<ol class="arabic simple">
<li><p>We start out by importing the the <cite>sys</cite> module from the Python standard
library followed by the vispy <a class="reference internal" href="../api/vispy.app.html#module-vispy.app" title="vispy.app"><code class="xref py py-mod docutils literal notranslate"><span class="pre">app</span></code></a> and <a class="reference internal" href="../api/vispy.gloo.html#module-vispy.gloo" title="vispy.gloo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gloo</span></code></a>
modules.</p></li>
<li><p>We create a <code class="docutils literal notranslate"><span class="pre">Canvas</span></code> object representing the overall space
where our visualization will take place.</p></li>
<li><p>We define a simple “on_draw” function telling OpenGL to fill the
Canvas with a specific RGBA (Red, Green, Blue, Alpha) color. The color
components are defined as floating point numbers between 0 and 1.
We use the <code class="docutils literal notranslate"><span class="pre">canvas.connect</span></code> decorator method to attach this method
to any “draw” events coming from the canvas. When using this technique
the function must be named <code class="docutils literal notranslate"><span class="pre">on_&lt;event&gt;</span></code>. For more on the available
events that can be connected to, see the
<a class="reference internal" href="../api/vispy.app.canvas.html#vispy.app.canvas.Canvas" title="vispy.app.canvas.Canvas"><code class="xref py py-class docutils literal notranslate"><span class="pre">vispy.app.canvas.Canvas</span></code></a> docstring.</p></li>
<li><p>We call <a class="reference internal" href="../api/vispy.app.canvas.html#vispy.app.canvas.Canvas.show" title="vispy.app.canvas.Canvas.show"><code class="xref py py-meth docutils literal notranslate"><span class="pre">canvas.show()</span></code></a> to display
the Canvas object on the screen. VisPy will talk to the underlying GUI
backend (PyQt, Wx, etc) to construct a native GUI “widget” with our
OpenGL visualization inside.</p></li>
<li><p>The script ends with us running a default VisPy
<a class="reference internal" href="../api/vispy.app.application.html#vispy.app.application.Application" title="vispy.app.application.Application"><code class="xref py py-class docutils literal notranslate"><span class="pre">Application</span></code></a> object. Later on we’ll see
how we can define the exact Application we want to use, but in this early
stage we won’t need to. The if statement here is a common occurrence in
VisPy example scripts so that the Application is only started when the
code is run as a script (instead of imported). This also helps with more
advanced usage where we run this script in an interactive Python
interpreter.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The above code is also available in the
<a class="reference internal" href="../gallery/gloo/start.html#sphx-glr-gallery-gloo-start-py"><span class="std std-ref">examples/gloo/start.py</span></a> script.</p>
</div>
</section>
<section id="basic-script-alternative">
<h2>Basic Script (Alternative)<a class="headerlink" href="#basic-script-alternative" title="Link to this heading">#</a></h2>
<p>Another common way to structure a script like this is to subclass the
<code class="docutils literal notranslate"><span class="pre">Canvas</span></code> class and override the necessary methods directly. This can be
useful if you want to keep all parts of your visualization contained in the
<code class="docutils literal notranslate"><span class="pre">Canvas</span></code> object instead of throughout a script. Here is what the above
“connect style” script would look like as a subclass:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">vispy</span><span class="w"> </span><span class="kn">import</span> <span class="n">app</span><span class="p">,</span> <span class="n">gloo</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyCanvas</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">Canvas</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">on_draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">gloo</span><span class="o">.</span><span class="n">set_clear_color</span><span class="p">((</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
        <span class="n">gloo</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>


<span class="n">canvas</span> <span class="o">=</span> <span class="n">MyCanvas</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="s1">&#39;interactive&#39;</span><span class="p">)</span>
<span class="n">canvas</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span> <span class="ow">and</span> <span class="n">sys</span><span class="o">.</span><span class="n">flags</span><span class="o">.</span><span class="n">interactive</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="create-an-opengl-program">
<h2>Create an OpenGL Program<a class="headerlink" href="#create-an-opengl-program" title="Link to this heading">#</a></h2>
<p>As mentioned earlier, the <code class="docutils literal notranslate"><span class="pre">gloo</span></code> interface provides a low-level
object-oriented interface on top of OpenGL. If we want to do anything more
complicated that a solid color, we’ll need to start using these OpenGL
objects. We’ll start with the below code to draw a simple shape in our
Canvas. As mentioned in <a class="reference internal" href="index.html"><span class="doc">Getting Started</span></a>, if you aren’t familiar with OpenGL then
it is highly recommended that you read <a class="reference internal" href="modern-gl.html"><span class="doc">Modern OpenGL</span></a> before diving into
the below code.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">vispy</span><span class="w"> </span><span class="kn">import</span> <span class="n">app</span><span class="p">,</span> <span class="n">gloo</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">vispy.gloo</span><span class="w"> </span><span class="kn">import</span> <span class="n">Program</span>

<span class="n">vertex</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    attribute vec4 color;</span>
<span class="s2">    attribute vec2 position;</span>
<span class="s2">    varying vec4 v_color;</span>
<span class="s2">    void main()</span>
<span class="s2">    {</span>
<span class="s2">        gl_Position = vec4(position, 0.0, 1.0);</span>
<span class="s2">        v_color = color;</span>
<span class="s2">    } &quot;&quot;&quot;</span>

<span class="n">fragment</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    varying vec4 v_color;</span>
<span class="s2">    void main()</span>
<span class="s2">    {</span>
<span class="s2">        gl_FragColor = v_color;</span>
<span class="s2">    } &quot;&quot;&quot;</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Canvas</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">Canvas</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="mi">512</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Colored quad&#39;</span><span class="p">,</span>
                         <span class="n">keys</span><span class="o">=</span><span class="s1">&#39;interactive&#39;</span><span class="p">)</span>

        <span class="c1"># Build program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">Program</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">fragment</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

        <span class="c1"># Set uniforms and attributes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                                 <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">[</span><span class="s1">&#39;position&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">+</span><span class="mi">1</span><span class="p">),</span>
                                    <span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">+</span><span class="mi">1</span><span class="p">)]</span>

        <span class="n">gloo</span><span class="o">.</span><span class="n">set_viewport</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">physical_size</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">on_draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">gloo</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="s1">&#39;triangle_strip&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">on_resize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">gloo</span><span class="o">.</span><span class="n">set_viewport</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">*</span><span class="n">event</span><span class="o">.</span><span class="n">physical_size</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">Canvas</span><span class="p">()</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Similar to the previous example, we’ve created a subclass of the <code class="docutils literal notranslate"><span class="pre">Canvas</span></code>
object to hold on to all of the objects we create. We start by defining an
OpenGL <a class="reference internal" href="../api/vispy.gloo.program.html#vispy.gloo.program.Program" title="vispy.gloo.program.Program"><code class="xref py py-class docutils literal notranslate"><span class="pre">Program</span></code></a> which expects two shaders in the
simplest case: a vertex shader and a fragment shader.</p>
<p>Now that we have the Program, we are able to start setting uniforms and
attributes used by the shaders. In this example we’ve included the
<code class="docutils literal notranslate"><span class="pre">.show()</span></code> call inside the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method so the Canvas is shown as soon
as it is created.</p>
<p>Lastly, we create two event handlers. One for the “resize” event so when the
user resizes the GUI window we can update the size of the OpenGL canvas
(viewport). The other handler is for “draw” where we clear the canvas,
setting it to the “clear color” of white, and then tell our GL Program to draw
or execute itself.</p>
<p>When we run this example we should see something like this:</p>
<img alt="Screenshot of examples/gloo/colored_quad.py example script." class="sphx-glr-single-img" src="../_images/sphx_glr_colored_quad_001.png" />
<p>This shape was created by drawing a <code class="docutils literal notranslate"><span class="pre">&quot;triangle_strip&quot;</span></code> using the coordinates
we assigned to the <cite>position</cite> attribute. Colors are interpolated between the
4 colors we assigned to each vertex (<code class="docutils literal notranslate"><span class="pre">color</span></code>) automatically by the GPU.
Under the hood, VisPy automatically
converts these positions and colors to numpy arrays. For the positions it
creates a
<a class="reference internal" href="../api/vispy.gloo.buffer.html#vispy.gloo.buffer.VertexBuffer" title="vispy.gloo.buffer.VertexBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">VertexBuffer</span></code></a> object to store them. We could have
done this ourselves by replacing this line with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">_program</span><span class="p">[</span><span class="s1">&#39;position&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gloo</span><span class="o">.</span><span class="n">VertexBuffer</span><span class="p">(</span><span class="n">pos_np_arr</span><span class="p">)</span>
</pre></div>
</div>
<p>With this basic template, you can now start modifying the shader code,
or provide different uniforms and attributes. With the right setup, you can
also change the drawing method used (ex. ‘points’ or ‘lines’ instead of
‘triangle_strip’).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The above code is also available in the
<a class="reference internal" href="../gallery/gloo/colored_quad.html#sphx-glr-gallery-gloo-colored-quad-py"><span class="std std-ref">examples/gloo/colored_quad.py</span></a> script.</p>
</div>
</section>
<section id="timers">
<h2>Timers<a class="headerlink" href="#timers" title="Link to this heading">#</a></h2>
<p>A common requirement of any visualization is to make changes over time. VisPy
provides a generic <a class="reference internal" href="../api/vispy.app.timer.html#vispy.app.timer.Timer" title="vispy.app.timer.Timer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timer</span></code></a> class to help with this.
Let’s take the quad example above and make a few modifications. First, we’ll
create a <a class="reference internal" href="../api/vispy.app.timer.html#vispy.app.timer.Timer" title="vispy.app.timer.Timer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timer</span></code></a> in the <code class="docutils literal notranslate"><span class="pre">Canvas.__init__</span></code> method.
We’ll also define a <code class="docutils literal notranslate"><span class="pre">clock</span></code> instance variable to use in our shader later
and then we’ll start the timer.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">[</span><span class="s1">&#39;theta&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_timer</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">clock</span> <span class="o">=</span> <span class="mi">0</span>
<span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>We first set a new uniform in our shader called <code class="docutils literal notranslate"><span class="pre">theta</span></code> which we’ll
use later on. The <code class="docutils literal notranslate"><span class="pre">'auto'</span></code> setting tells the timer to fire as quickly as
quickly as it can (in between drawing and other GUI events). We’ve connected
this timer to a new <code class="docutils literal notranslate"><span class="pre">on_timer</span></code> method which will be executed whenever the
timer is triggered.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">on_timer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clock</span> <span class="o">+=</span> <span class="mf">0.001</span> <span class="o">*</span> <span class="mf">1000.0</span> <span class="o">/</span> <span class="mf">60.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">[</span><span class="s1">&#39;theta&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clock</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</pre></div>
</div>
<p>In this method, we’re updating our special <code class="docutils literal notranslate"><span class="pre">clock</span></code> counter variable,
updating that <code class="docutils literal notranslate"><span class="pre">theta</span></code> uniform in our shader, and finally we call
<code class="docutils literal notranslate"><span class="pre">self.update()</span></code> which tells the <code class="docutils literal notranslate"><span class="pre">Canvas</span></code> to start redrawing itself.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The method name <code class="docutils literal notranslate"><span class="pre">on_timer</span></code> is by convention, but can be named anything.</p>
</div>
<p>Lastly, we update our vertex shader so the coordinates we provide to the
OpenGL program are adjusted based on our new <code class="docutils literal notranslate"><span class="pre">theta</span></code> uniform.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vertex</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    uniform float theta;</span>
<span class="s2">    attribute vec4 color;</span>
<span class="s2">    attribute vec2 position;</span>
<span class="s2">    varying vec4 v_color;</span>
<span class="s2">    void main()</span>
<span class="s2">    {</span>
<span class="s2">        float ct = cos(theta);</span>
<span class="s2">        float st = sin(theta);</span>
<span class="s2">        float x = 0.75* (position.x*ct - position.y*st);</span>
<span class="s2">        float y = 0.75* (position.x*st + position.y*ct);</span>
<span class="s2">        gl_Position = vec4(x, y, 0.0, 1.0);</span>
<span class="s2">        v_color = color;</span>
<span class="s2">    } &quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Putting it all together our new script looks like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">vispy</span><span class="w"> </span><span class="kn">import</span> <span class="n">gloo</span><span class="p">,</span> <span class="n">app</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">vispy.gloo</span><span class="w"> </span><span class="kn">import</span> <span class="n">Program</span>

<span class="n">vertex</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    uniform float theta;</span>
<span class="s2">    attribute vec4 color;</span>
<span class="s2">    attribute vec2 position;</span>
<span class="s2">    varying vec4 v_color;</span>
<span class="s2">    void main()</span>
<span class="s2">    {</span>
<span class="s2">        float ct = cos(theta);</span>
<span class="s2">        float st = sin(theta);</span>
<span class="s2">        float x = 0.75* (position.x*ct - position.y*st);</span>
<span class="s2">        float y = 0.75* (position.x*st + position.y*ct);</span>
<span class="s2">        gl_Position = vec4(x, y, 0.0, 1.0);</span>
<span class="s2">        v_color = color;</span>
<span class="s2">    } &quot;&quot;&quot;</span>

<span class="n">fragment</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    varying vec4 v_color;</span>
<span class="s2">    void main()</span>
<span class="s2">    {</span>
<span class="s2">        gl_FragColor = v_color;</span>
<span class="s2">    } &quot;&quot;&quot;</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Canvas</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">Canvas</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="mi">512</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Rotating quad&#39;</span><span class="p">,</span>
                         <span class="n">keys</span><span class="o">=</span><span class="s1">&#39;interactive&#39;</span><span class="p">)</span>
        <span class="c1"># Build program &amp; data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">Program</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">fragment</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                                 <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">[</span><span class="s1">&#39;position&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">+</span><span class="mi">1</span><span class="p">),</span>
                                    <span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">[</span><span class="s1">&#39;theta&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>

        <span class="n">gloo</span><span class="o">.</span><span class="n">set_viewport</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">physical_size</span><span class="p">)</span>
        <span class="n">gloo</span><span class="o">.</span><span class="n">set_clear_color</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_timer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clock</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">on_draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">gloo</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="s1">&#39;triangle_strip&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">on_resize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">gloo</span><span class="o">.</span><span class="n">set_viewport</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">*</span><span class="n">event</span><span class="o">.</span><span class="n">physical_size</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">on_timer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clock</span> <span class="o">+=</span> <span class="mf">0.001</span> <span class="o">*</span> <span class="mf">1000.0</span> <span class="o">/</span> <span class="mf">60.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">[</span><span class="s1">&#39;theta&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clock</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">Canvas</span><span class="p">()</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>The end result is a 2D square that rotates for every timer event.</p>
<img alt="Screenshot of examples/gloo/colored_quad.py example script." class="sphx-glr-single-img" src="../_images/sphx_glr_rotating_quad_001.gif" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The above code is also available in the
<a class="reference internal" href="../gallery/gloo/rotating_quad.html#sphx-glr-gallery-gloo-rotating-quad-py"><span class="std std-ref">examples/gloo/rotating_quad.py</span></a> script.</p>
</div>
</section>
<section id="keyboard-events">
<h2>Keyboard Events<a class="headerlink" href="#keyboard-events" title="Link to this heading">#</a></h2>
<p>So far our examples haven’t included any user interaction. The easiest way
to include some is to attach meaning to certain key presses. We can update
our example to include a “pause” button on the animation. We add one new
method to handle all keyboard events.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">on_key_press</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">text</span> <span class="o">==</span> <span class="s1">&#39; &#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>This method is automatically executed when the <code class="docutils literal notranslate"><span class="pre">Canvas</span></code> detects a key press.
The <code class="docutils literal notranslate"><span class="pre">event.text</span></code> is used to check for the Spacebar being pressed. If the
timer is running, we stop it, otherwise we start it.</p>
</section>
<section id="other-topics">
<h2>Other Topics<a class="headerlink" href="#other-topics" title="Link to this heading">#</a></h2>
<p>That’s it for the “Getting Started” topics for the gloo interface. Now it is
time to get coding and exploring the other parts of the documentation. If you
think something is missing here and would make for a really good
“Getting Started” topic, please create an issue on GitHub. See
<a class="reference internal" href="../community.html"><span class="doc">Community</span></a> for more information.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="modern-gl.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Modern OpenGL</p>
      </div>
    </a>
    <a class="right-next"
       href="visuals.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Getting Started - Visuals</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-system-information">Getting System Information</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-canvas-and-the-application">The Canvas and The Application</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-application">The Application</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-canvas">The Canvas</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-script">Basic Script</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-script-alternative">Basic Script (Alternative)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-an-opengl-program">Create an OpenGL Program</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#timers">Timers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#keyboard-events">Keyboard Events</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#other-topics">Other Topics</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="
    
    https://github.com/vispy/vispy/edit/main/doc/getting_started/gloo.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit
        
      
    </a>
  </div>
</div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/getting_started/gloo.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2013-2025, VisPy developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>