
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Writing Examples &#8212; VisPy</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/font-mfizz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/font-awesome.css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-rendered-html.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Gallery" href="../gallery/index.html" />
    <link rel="prev" title="Contributor’s Guide" href="contributor_guide.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../index.html">
  <img src="../_static/vispy-teaser-short.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../installation.html">
  Installation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../getting_started/index.html">
  Getting Started
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../overview.html">
  Documentation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../gallery/index.html">
  Gallery
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../api/modules.html">
  API
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../news.html">
  News
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference external nav-link" href="https://github.com/vispy/vispy/blob/main/CODE_OF_CONDUCT.md">
  Code of Conduct
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/vispy/vispy" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/vispyproject" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../community.html">
   Community
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../resources.html">
   Resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../faq.html">
   FAQ
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../roadmap.html">
   Roadmap
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Developer’s Guide
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="contributor_guide.html">
     Contributor’s Guide
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Writing Examples
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-the-vispy-scraper-in-other-projects">
   Using the VisPy Scraper in other projects
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#script-location">
   Script Location
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#canvas">
   Canvas
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#applications">
   Applications
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#specify-frames-to-grab">
   Specify frames to grab
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#specify-images-created-by-example">
   Specify images created by example
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                

<div class="tocsection editthispage">
    <a href="https://github.com/vispy/vispy-website/edit/main/dev_guide/writing_examples.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="writing-examples">
<h1>Writing Examples<a class="headerlink" href="#writing-examples" title="Permalink to this headline">¶</a></h1>
<p>One of the easiest ways to learn VisPy is to use example scripts as a starting
point. VisPy includes a lot of its example scripts in the
<a class="reference internal" href="../gallery/index.html"><span class="doc">Gallery</span></a> which is generated by the
<a class="reference external" href="https://sphinx-gallery.github.io/stable/">sphinx-gallery</a> library.
While any example that shows a usage of VisPy is usage care must be taken to
make it runnable by sphinx-gallery and allow
<a class="reference internal" href="../api/vispy.util.gallery_scraper.html#vispy.util.gallery_scraper.VisPyGalleryScraper" title="vispy.util.gallery_scraper.VisPyGalleryScraper"><code class="xref py py-class docutils literal notranslate"><span class="pre">VisPy's</span> <span class="pre">sphinx-gallery</span> <span class="pre">scraper</span></code></a>
to take screenshots of it.</p>
<p>The below sections describe some important points of writing an example and
gotchas to avoid so the examples are properly included in the gallery.</p>
<div class="section" id="using-the-vispy-scraper-in-other-projects">
<h2>Using the VisPy Scraper in other projects<a class="headerlink" href="#using-the-vispy-scraper-in-other-projects" title="Permalink to this headline">¶</a></h2>
<p>It is possible for projects outside of VisPy to use the sphinx-gallery
scraper. After following the sphinx-gallery configuration steps, include
“vispy” as one of your <code class="docutils literal notranslate"><span class="pre">image_scrapers</span></code> in your <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> configuration:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;image_scrapers&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;vispy&#39;</span><span class="p">,),</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It can be used alongside other scrapers like the sphinx-gallery default
<code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> scraper. The scraper follows all the same rules described
below unless stated otherwise.</p>
</div>
<div class="section" id="script-location">
<h2>Script Location<a class="headerlink" href="#script-location" title="Permalink to this headline">¶</a></h2>
<p>Example scripts that are meant to be included in the gallery should be placed
in one of <code class="docutils literal notranslate"><span class="pre">examples/gloo/</span></code>, <code class="docutils literal notranslate"><span class="pre">examples/scene/</span></code>, or <code class="docutils literal notranslate"><span class="pre">examples/plotting/</span></code>
directories. Sphinx-gallery will only search in these directories and only at
the top 2 levels (only the first sub-directories).</p>
<p>Note this is specific to the VisPy project. Third-party libraries using the
VisPy scraper are free to put examples wherever they configure sphinx-gallery
to look.</p>
</div>
<div class="section" id="canvas">
<h2>Canvas<a class="headerlink" href="#canvas" title="Permalink to this headline">¶</a></h2>
<p>The scraper expects examples to have one of the following defined in the
global namespace:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">canvas</span></code>: An instance of a <code class="docutils literal notranslate"><span class="pre">Canvas</span></code>, <code class="docutils literal notranslate"><span class="pre">SceneCanvas</span></code>, or
subclass of one of these. It must be named “canvas”.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Canvas</span></code>: A class that can be instantiated by calling <code class="docutils literal notranslate"><span class="pre">Canvas()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fig</span></code>: A <code class="docutils literal notranslate"><span class="pre">Figure</span></code> instance. It must be named “fig”.</p></li>
</ul>
<p>In the case of an example that is a larger Qt5 Application see the below
section.</p>
</div>
<div class="section" id="applications">
<h2>Applications<a class="headerlink" href="#applications" title="Permalink to this headline">¶</a></h2>
<p>The scraper can also collect screenshots of Qt5 Applications. It will find the
top-level <code class="docutils literal notranslate"><span class="pre">QMainWindow</span></code> or <code class="docutils literal notranslate"><span class="pre">QWidget</span></code> and ignore any VisPy canvases.</p>
<p>At the end of the example should be included an <code class="docutils literal notranslate"><span class="pre">app.run()</span></code> call where
<code class="docutils literal notranslate"><span class="pre">app</span></code> <strong>must</strong> be a VisPy <code class="docutils literal notranslate"><span class="pre">Application</span></code> instance. Using a QApplication
instance will work for basic running of the example, but currently can cause
segmentation faults when run by sphinx-gallery. VisPy’s
<a class="reference internal" href="../api/vispy.app.application.html#vispy.app.application.Application.run" title="vispy.app.application.Application.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">vispy.app.application.Application.run()</span></code></a> has special handling to not block
execution when run by sphinx-gallery.</p>
<p>Examples using other GUI frameworks are not currently supported in gallery
execution.</p>
</div>
<div class="section" id="specify-frames-to-grab">
<h2>Specify frames to grab<a class="headerlink" href="#specify-frames-to-grab" title="Permalink to this headline">¶</a></h2>
<p>A special comment can be added to the top of the example script to tell the
scraper what frame(s) to grab of an animation. By default (if none is
specified) the scraper will draw the Canvas-like object multiple times (5)
and then grab the current visualized output. This ensures that the
visualization has been completely drawn. To customize a different number of
draws before a screenshot is grabbed put the following comment in the first
ten lines of the example script (usually the second line after the hashbang):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># vispy: gallery 30</span>
</pre></div>
</div>
<p>This tells the scraper to draw the Canvas-like object 30 times. To build an
animation (currently stored as a gif image), you can specify a range of frames
by doing:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># vispy: gallery 10:50:10</span>
</pre></div>
</div>
<p>This is passed to <code class="docutils literal notranslate"><span class="pre">range</span></code> as individual arguments (start, end, step). So the
above will produce a list of <code class="docutils literal notranslate"><span class="pre">[10,</span> <span class="pre">15,</span> <span class="pre">20,</span> <span class="pre">25,30,</span> <span class="pre">35,</span> <span class="pre">40,</span> <span class="pre">45]</span></code> meaning draw
the Canvas-like object 10 times and grab a screenshot, then 5 more times
(15 total) and grab a screenshot, then 5 more times (20 total) and grab a
screenshot, and so on.</p>
<p>By default the scraper will not grab any frames. If the gallery comment is
specified, but has no number or range specified then the first frame will be
grabbed.</p>
</div>
<div class="section" id="specify-images-created-by-example">
<h2>Specify images created by example<a class="headerlink" href="#specify-images-created-by-example" title="Permalink to this headline">¶</a></h2>
<p>Some examples may involve creating screenshots or animations. To tell the
scraper to grab these files instead of trying to generate another screenshot
specify the following frame specifier comment:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># vispy: gallery-exports animation.gif</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">animation.gif</span></code> is a filename relative to the example script that is
produced by running the example. It can be any image format. Multiple
space-separated filenames can be provided also.</p>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="contributor_guide.html" title="previous page">Contributor’s Guide</a>
    <a class='right-next' id="next-link" href="../gallery/index.html" title="next page">Gallery</a>

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2013-2021, VisPy developers.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.1.2.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>